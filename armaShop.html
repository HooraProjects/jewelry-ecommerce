<!DOCTYPE html>
<html lang="fa-IR" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="./assets/images/logoIcon.webp">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="./style.css">
    <title>فروشگاه</title>
</head>
<body>
    <div class="overlay"></div>
    <header id="arma--header" role="banner">  
        
        </header>
        <script src="./header.js"></script>
        <script src="./script.js" ></script>
        
         <div class="shop-top-sidebar">
                <ul class="product-categories">
                    <li class="cat-item" data-id="1"><a href="#">آویز</a></li>
                    <li class="cat-item" data-id="2"><a href="#">انگشتر</a></li>
                    <li class="cat-item" data-id="3"><a href="#">حلقه</a></li>
                    <li class="cat-item" data-id="4"><a href="#">دستبند</a></li>
                    <li class="cat-item" data-id="5"><a href="#">گردنبند</a></li>
                    <li class="cat-item" data-id="6"><a href="#">گوشواره</a></li>
                </ul>
            </div>
           <div class="result">
            <i class="fa-solid fa-filter" onclick="showFilterBar()"></i>
            <div class="select">
                <select name="orderby" class="orderby">
                    <option value="popularity">مرتب سازی بر اساس محبوب ترین</option>
                    <option value="price">مرتب سازی بر اساس ارزان ترین</option>
                    <option value="price-desc">مرتب سازی بر اساس گران ترین</option>
                    <option value="rating">مرتب سازی بر اساس امتیاز</option>
                </select>
            </div>        
        </div>
        <div class="container--shop container">
            <div class="filter-sidebar">
                <div class="filter-content">
                    <div class="filter-content-top">
                        <a class="close-icon-filter" onclick="closeFilterBar()"><i class="fa-solid fa-xmark"></i></a>
                <h4>فیلتر بر اساس قیمت</h4>    
                    </div>
                    <div class="price-label">
                        قیمت :۰ تومان  -  ۱۵۰۰۰۰۰۰۰۰   
                  </div>      
                    <input type="range" min="0" max="100" value="0" class="range-slider" id="myRange" step="1">
                    <button class="btn-filter">فیلتر</button>
                </div>               
            </div>
            <div class="product-list">  
               
                <div class="col col-1"></div>
                <div class="col col-2"> </div>
                <div class="col col-3"></div>
            </div>
        </div>      
           
        <footer id="footer"> </footer>
        <script src="./footer.js"></script>  
        <script>
        'use strict';
            const filterSidebar = document.querySelector('.filter-sidebar');
            const filterIcon = document.querySelector('.fa-filter');
            const closeFilterIcon = document.querySelector('.close-icon-filter');
            const rangeSlider = document.getElementById('myRange');
            const orderby = document.querySelector('.orderby');
            const productColOne  = document.querySelector('.col-1');
            const productColTwo  = document.querySelector('.col-2');
            const productColThree  = document.querySelector('.col-3');
            let products = [
                {
                      id:1,
                      src:'./assets/images/necklace-shop-lazy.webp',
                      dataSrc:'./assets/images/necklace.webp',
                      name:'گردنبند طرح گل',
                      price:'۵۵,۰۰۰,۰۰۰',
                      popularity:1,
                      rating:5

                },
                {
                    id:2,
                    src:'./assets/images/earring2-shop-lazy.webp',
                    dataSrc:'./assets/images/earring2--shop.webp',
                    name:'گوشواره مروارید طلا زرد',
                    price:'۲۵,۰۰۰,۰۰۰',
                    popularity:5,
                    rating:3
                },
                {
                    id:3,
                    src:'./assets/images/necklace2-shop-lazy.webp',
                    dataSrc:'./assets/images/necklace2-shop.webp',
                    name:'گردنبند سه زنجیره با سنگ فیروزه',
                    price:'۶۵,۰۰۰,۰۰۰',
                    popularity:3,
                    rating:4
                },
                {
                    id:4,
                    src:'./assets/images/earring1-shop-lazy.webp',
                    dataSrc:'./assets/images/earring1-shop.webp',
                    name:'گوشواره طرح گل',
                    price:'۲۰,۰۰۰,۰۰۰',
                    popularity:4,
                    rating:4
                },
                {
                    id:5,
                    src:'./assets/images/ring1-shop-lazy.webp',
                    dataSrc:'./assets/images/ring1-shop.webp',
                    name:'انگشتر دوحلقه ای',
                    price:'۳۵,۰۰۰,۰۰۰',
                    popularity:2,
                    rating:5
                },
                {
                    id:6,
                    src:'./assets/images/rings1-shop-lazy.webp',
                    dataSrc:'./assets/images/rings1-shop.webp',
                    name:'ست حلقه طلا سفید',
                    price:'۷۰,۰۰۰,۰۰۰',
                    popularity:6,
                    rating:3
                },
                {
                    id:7,
                    src:'./assets/images/bracelet1-shop-lazy.webp',
                    dataSrc:'./assets/images/bracelet1-shop.webp',
                    name:'دستبند طلا زرد و طلا سفید',
                    price:'۴۰,۰۰۰,۰۰۰',
                    popularity:7,
                    rating:4
                },
                
                {
                    id:8,
                    src:'./assets/images/rings2-shop-lazy.webp',
                    dataSrc:'./assets/images/rings2-shop.webp',
                    name:'ست حلقه طلا زرد و طلا سفید',
                    price:'۷۵,۰۰۰,۰۰۰',
                    popularity:8,
                    rating:2
                },
                {
                    id:9,
                    src:'./assets/images/bracelet2-shop-lazy.webp',
                    dataSrc:'./assets/images/bracelet2-shop.webp',
                    name:'دستبند طلا زرد',
                    price:'۶۰,۰۰۰,۰۰۰',
                    popularity:9,
                    rating:1
                }
               
            ]
            rangeSlider.addEventListener('input',function(e){
               // console.log(e.target.value);
            })
            filterSidebar.style.display = "none";
            overlay.style.display="none"
            sideBar.style.display = "none";   
            function showFilterBar(){
                filterSidebar.style.display = "flex";
            }
             
             function closeFilterBar(){
                filterSidebar.style.display="none";
             }
        
                     
          const item  = products.map(product=> `<div class="product">
            <img src=${product.src} data-src=${product.dataSrc} class="features-img lazy-img">
            <div class="overlay-product">
                <i class="fa-regular fa-heart" class="overlay-icon" title="افزودن به علاقه مندی"></i>
                <i class="fa-solid fa-magnifying-glass" class="overlay-icon"  title="مشاهده سریع" ></i>
                <i class="fa-solid fa-cart-shopping" class="overlay-icon" title="افزودن به سبد خرید"></i>
                </div>
            <p>${product.name}</p> 
            <p>${product.price}  تومان</p>
            </div>
            `);      

          
        
     productColOne.innerHTML =  item[0]+item[1]+item[2];
     productColTwo.innerHTML = item[3]+item[4]+item[5];
     productColThree.innerHTML = item[6]+item[7]+item[8];
      // lazy loading images
  const imageTargets = document.querySelectorAll('img[data-src]');
  let imageOptions ={

            };
let observer = new IntersectionObserver((entries,observer)=>{
    entries.forEach(entry=>{
        if(!entry.isIntersecting) return;
        const image = entry.target;
        const newUrl = image.getAttribute('data-src');
    image.src = newUrl;
    observer.unobserve(image);
    })
},imageOptions);

imageTargets.forEach((image)=>{
    observer.observe(image);
})

orderby.addEventListener('change',function(){
    if(orderby.value ==='popularity'){   
    }
    if(orderby.value ==='price'){

    }
    if(orderby.value ==='price-desc'){

    }
    if(orderby.value ==='rating'){

    }

})
 </script>
</body>
</html>